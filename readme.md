# Трекер задач по  по методу «Помодоро»

Приложение SPA (CSR)  выполненно на React+Redux (Typescript) 

###[Ссылка на приложение в сети](https://pomodoro.alexstrigo.ru/)

##Принцип работы:
- Установите в своём списке дел цель или задачу, которую необходимо выполнить.
- Установите таймер «Помодоро»
- Работайте в течение заданного периода времени.
- После окончания работы таймер зазвонит и в браузере придет уведомение.
- После каждого рабочего сеанса делайте  перерыв.

##Функционал
1. Работать со списком задач (добавить, редактировать, удалить, сортировать)
2. Работать с таймером (старт, стоп, пауза, продлить, пропустить)
3. Просматривать статистику использования таймера


## Структура приложения:
Приложение работает на двух страницах:

1. Страница с таймером состоит: 
* Шапка с логотипом pomodoro_box и ссылкой на страницу статистики.
* Краткая инструкция о работе с приложением.
* Форма для добавления задач.
* Список задач с возможностью редактирования.
* Таймер с кнопками управления.

2. Страница статистики: 
* Шапка с логотипом pomodoro_box и ссылкой на страницу статистики (на данной диагрмме можно выбрать день недели, другие графики покажут статистику именно по этим дням)
* Столбчатая диаграмма времени использования таймера по дням недели.
* Выбор недели.
* Статистика работы с таймером за сегодня.
* Фокус ( время работы / общее количества времени на задачу)
* Время на паузе.
* Количество остановок

#####Приложение также имеет функционал cмены тема (темная тема и светлая тема перелючаются в хэдере)

## Структура кода:
Несмотря на то, что приложение по сути работает без бэкенда и базы данных в браузере клиента, я постарался выделить 3 слоя бизнес логики.

### "База данных"
В роли базы данных выступает localstorage браузера, весь код и интерфейсы связанные с взаимодействией с localstorage хранятся тут и сущности в данной директории достают, редактируют и обновляют данные в локолсторидж

#### В директории src/db/samples хранится примеры баз данных:
######1) src/db/samples/db-sample-stats.json - хранит пример статистики, точнее того, как она сохраняется. Это массив в который падают объекты имеющие:
- type -  тип данных
- datetime - время в юникс в секундах
- и какое то value.

**В данный момент сохраняются:**
- Выполненые "помидоры" - "pomodoro" (1 value - 1 помидор)
- Выполненые перерывы - "break" (1 value - 1 перерыв)
- Время перерыва - "breakTime" (value - время в секундах)
- Время работы  "workTime" (value - время в секундах)

######2) src/db/samples/db-sample-todo.json - хранит пример списка дел:

title - название дела
id - уникальный иденцификатор
leftoverTomatoes - количество требуемых до окончания дела "томатов" ,
tomatoCounter: Выполненные томаты,
breakCounter: Сделанные перерывы

### Redux
Взаимодействие с сущностями из так называемой базы данных выполняет redux в своих экшенах, осталяя компонентам просто отрисовку, навешивание экшенов

### Компоненты
**На что стоит обратить внимание:**
* За отрисовку отвечают компоненты, в папке src/components/Layout хранятся компоненты связанные с чисто задачей отрисовки
* Таймер представлен DefaultTimer, который принимает любой лэйоут таймера, и создает макете функционал, на основе DefaultTimer создаются другие таймеры, которые навешивают коллбэки на функционал таймера. Тем самым мы имеем - макеты таймер (в нашем случае он один - TimerLayout), компоненты создающий функционал - TimerDefault и компоненты, которые кастомизируют дефолтный таймер навешивая на него события - WorkTimer и PauseTimer
* В папке Sections хранятся секции для страниц, которые хранятся в папке Pages
* Все графики хранятся в папке Charts

### Утилиты 
Все утилиты собраны в папке utils, в одновном это функции выполняющие функционал - валидации, сравнения и тд.

##Запуск приложение
######Для запуска потребуется node.js и пакетный менеджер npm
- Установить зависимости введя команду в корневой папке: 
`$ npm i`
- Установить зависимости введя команду в папке server (если планируете деплоить или запускать билд): 
`$ npm i`

- Для запуска приложения в режиме девелопера введите в консоли команду: 
`$ npm start`
- Для создание продакшен билда введите команду (билд появится в папке build:
`$ npm run build`
- Для запуска продакшен билда есть серверный код на express, который лежит в папке server. Чтобы запустить продакшен билд введите в папке server команду
`$ node index.js`
